# Human Tasks — Teneo Marketplace

Items requiring human action (credentials, accounts, external services, business decisions).
These cannot be completed autonomously.

- [ ] [HT-001] CREATE .env FILE — Copy `marketplace/backend/.env.example` to `.env`. Set real values for: `SESSION_SECRET` (random 64-char string), `ADMIN_PASSWORD_HASH` (run `node marketplace/backend/scripts/generate-password-hash.js --generate`), `DATABASE_PATH`, and Stripe test keys (`STRIPE_SECRET_KEY`, `STRIPE_PUBLISHABLE_KEY`, `STRIPE_WEBHOOK_SECRET`). — Reason: Contains credentials, must be done by human in secure environment
**Prep status:** PREPPED
**Prepped details:** No browser tab needed — offline task. Step-by-step instructions ready in human_prep_output.json. Commands to run: `cp marketplace/backend/.env.example .env` then `node marketplace/backend/scripts/generate-password-hash.js --generate`. Human still needs to: (1) Copy the file, (2) Run password hash generator, (3) Paste Stripe test keys from dashboard.stripe.com/apikeys, (4) Set a random SESSION_SECRET.

- [ ] [HT-002] CONFIGURE SMTP FOR EMAILS — Set `EMAIL_HOST`, `EMAIL_USER`, `EMAIL_PASSWORD` in `.env` with real SMTP credentials (SendGrid, Mailgun, or similar). Without this, magic link auth emails and order confirmations won't send. — Reason: Requires account setup and credential management
**Prep status:** PREPPED
**Prepped details:** No browser tab (Chrome unavailable). Recommended path: Use Gmail with App Password (easiest). Instructions: (1) Go to myaccount.google.com/apppasswords, (2) Create app password for "Mail", (3) Set EMAIL_HOST=smtp.gmail.com, EMAIL_PORT=587, EMAIL_USER=your@gmail.com, EMAIL_PASS=<app-password> in .env. Alternative: sendgrid.com/solutions/email-api (free 100 emails/day) — create account, get API key, use EMAIL_USER=apikey, EMAIL_PASS=<sendgrid-api-key>.

- [ ] [HT-003] CONFIGURE CRYPTO WALLET ADDRESSES — Set `BTC_ADDRESS`, `LTC_ADDRESS`, `XMR_ADDRESS` in `.env` with real wallet addresses for crypto payments. Current fallback is 'CONFIGURE' placeholder. — Reason: Requires wallet setup by operator
**Prep status:** SKIPPED
**Skip reason:** Purely offline — requires human's own wallet software. No web action to pre-fill. Human needs to: open their BTC/LTC/XMR wallets, copy receive addresses, paste into .env.

- [ ] [HT-004] STRIPE KEY VERIFICATION — Verify Stripe publishable key is set in environment and matches the secret key (same account, both test or both live). Once task 008 is complete, the frontend will load the key dynamically — human must ensure it's set correctly. — Reason: Financial account credentials
**Prep status:** PREPPED
**Prepped details:** No browser tab (Chrome unavailable). Human needs to: (1) Go to https://dashboard.stripe.com/apikeys, (2) Copy both "Publishable key" (starts pk_test_) and "Secret key" (starts sk_test_), (3) Verify they are from the same account, (4) Paste into .env as STRIPE_PUBLISHABLE_KEY and STRIPE_SECRET_KEY. For webhooks: go to https://dashboard.stripe.com/webhooks, create endpoint for your server URL + /api/webhook, copy signing secret (whsec_...) into STRIPE_WEBHOOK_SECRET.

- [ ] [HT-005] DEPLOY TO PRODUCTION — After P0/P1 fixes are complete, deploy the updated server. If using Render, trigger a new deploy. If using Docker, install Docker Desktop first then rebuild the image. — Reason: Production deployment access required; Docker Desktop is NOT installed on this machine (confirmed by task 070 — `docker` command not found in PATH)
**Prep status:** PREPPED
**Prepped details:** No browser tab (Chrome unavailable). All 70 automated tasks are complete. **IMPORTANT: Docker Desktop is NOT installed on this machine** — task 070 confirmed `docker` command not found via `which docker` and `powershell.exe Get-Command docker`. Human must install Docker Desktop first: https://docs.docker.com/desktop/install/windows-install/. Render path: (1) Go to https://dashboard.render.com, (2) Find your teneo-marketplace service, (3) Click "Manual Deploy" > "Deploy latest commit". Docker path (after installing Docker Desktop): `docker compose down && docker compose build --no-cache && docker compose up -d`. Dockerfile is verified correct (commit 1f5e947 added python3/make/g++/curl for bcrypt compilation). Verify deploy: `curl https://your-domain/api/health`.
**Automation status:** NOT AUTOMATABLE — Docker Desktop not installed (confirmed task 070); No RENDER_API_KEY or RENDER_SERVICE_ID in .env (checked task 071); both Docker and Render deployment paths require human action.

- [ ] [HT-006] ROTATE LEAKED TENEO_CLIENT_SECRET — The production OAuth client secret `[REDACTED]` was committed to the public `.env.example` file. **PARTIAL FIX APPLIED:** The secret value and misleading comment have been replaced with a placeholder in `.env.example` (current working tree). Remaining steps: (1) Immediately rotate/revoke this secret in the OAuth provider (Teneo Auth admin panel), (2) Rewrite git history to remove the secret from all past commits: `git filter-repo --path .env.example --invert-paths` or BFG Repo Cleaner, (3) Force-push to remote and notify all collaborators to re-clone. — Reason: Credential rotation requires account access to OAuth provider; git history rewriting requires repo admin access and coordination with all contributors
**Prep status:** PREPPED
**Prepped details:** Code fix applied — `.env.example` line 96 now reads `# TENEO_CLIENT_SECRET=your-client-secret-here` and the misleading NOTE comment (lines 100-102) has been removed. Human still needs to: (1) Log into Teneo Auth admin panel and IMMEDIATELY revoke/rotate the secret `0DOrM6B...`, (2) Run `pip install git-filter-repo && git filter-repo --path-glob '.env.example' --replace-text <(echo '[REDACTED]==>REDACTED')` to clean git history, (3) Force-push: `git push --force --all` after confirming all collaborators are aware.
